import{k as p,l as v,m,_ as g,h,n as f,p as y,r as w,c,w as u,v as S,b as a,F as k,i as C,o as n,a as x,u as B,f as L,t as $}from"./index-YZHSUeUC.js";const b=p({id:"search",state:()=>({url:"https://api.themoviedb.org/3/",search:[]}),actions:{async getSearch(l){try{const t=await v.get(`${this.url}/search/multi?api_key=${m}&language=ru-RU&query=${l}`);this.search=t.data.results||[]}catch(t){console.error("Error fetching search results:",t)}}}}),q={class:"search"},D={class:"container"},E={class:"search-results"},I={class:"content__list-item"},M={alt:""},z={class:"content__list-name"},F={__name:"SearchPage",setup(l){const t=b(),o=h(""),i=h([]);return f(o,async r=>{try{await t.getSearch(r),i.value=t.search.filter(e=>e.title&&e.title.toLowerCase().includes(r.toLowerCase().trim())||e.name&&e.name.toLowerCase().includes(r.toLowerCase().trim()))}catch(e){console.error("Error fetching search results:",e)}}),(r,e)=>{const _=y("BtnMore"),d=w("lazy");return n(),c("div",q,[u(a("input",{type:"text",class:"search__inp","onUpdate:modelValue":e[0]||(e[0]=s=>o.value=s)},null,512),[[S,o.value]]),a("div",D,[a("div",E,[(n(!0),c(k,null,C(i.value,s=>(n(),c("div",{key:s.id},[a("div",I,[x(_,{style:"position: absolute; ",onClick:N=>r.$emit("qweqwe",s)},null,8,["onClick"]),u(a("img",M,null,512),[[d,B(L)+s.poster_path]]),a("h2",z,$(s.title||s.name),1)])]))),128))])])])}}},R=g(F,[["__scopeId","data-v-98e79450"]]);export{R as default};
